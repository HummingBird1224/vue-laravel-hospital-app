import{B as w,U as S,A as v,D as _,E as V,J as x,M as I,r as n,o as l,e as u,f as r,w as m,u as t,t as c,h as N,i as M,N as q,a as D}from"./vendor.c29fa1eb.js";import{u as E,h as j}from"./main.02f9c92c.js";const C=["onSubmit"],G={key:0},U={key:1},A={class:"mt-4 mb-4 text-sm"},T={setup(F){const g=E(),{t:d}=w(),i=S({email:""}),p=v(!1),s=v(!1),h={email:{required:_.withMessage(d("validation.required"),V),email:_.withMessage(d("validation.email_incorrect"),x)}},a=I(h,i);async function y(o){if(a.value.$touch(),!a.value.$invalid)try{s.value=!0,(await D.post("/api/v1/auth/password/email",i)).data&&g.showNotification({type:"success",message:"Mail sent successfully"}),p.value=!0,s.value=!1}catch(e){j(e),s.value=!1}}return(o,e)=>{const $=n("BaseInput"),b=n("BaseInputGroup"),B=n("BaseButton"),k=n("router-link");return l(),u("form",{id:"loginForm",class:"my-14 text-left",onSubmit:q(y,["prevent"])},[r(b,{error:t(a).email.$error&&t(a).email.$errors[0].$message,label:o.$t("login.enter_email"),class:"mb-4",required:""},{default:m(()=>[r($,{modelValue:t(i).email,"onUpdate:modelValue":e[0]||(e[0]=f=>t(i).email=f),invalid:t(a).email.$error,focus:"",type:"email",name:"email",onInput:e[1]||(e[1]=f=>t(a).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),r(B,{loading:s.value,disabled:s.value,type:"submit",variant:"primary"},{default:m(()=>[p.value?(l(),u("div",U,c(o.$t("validation.not_yet")),1)):(l(),u("div",G,c(o.$t("validation.send_reset_link")),1))]),_:1},8,["loading","disabled"]),N("div",A,[r(k,{to:"/login",class:"text-sm text-primary-400 hover:text-gray-700"},{default:m(()=>[M(c(o.$t("general.back_to_login")),1)]),_:1})])],40,C)}}};export{T as default};
